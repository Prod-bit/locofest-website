<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Locofest — Explications</title>
  <meta name="description" content="Présentation de Locofest : rechercher une ville, consulter une fiche événement et planifier avec le calendrier (Jour/Semaine/Mois)." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --brand:#1976D2; --bg:#ffffff; --soft:#E9F2FF; --text:#121212;
      --muted:#596273; --max:1080px; --radius:14px; --border:#e7e9ef;
      --shadow:0 6px 18px rgba(0,0,0,.05);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,-apple-system,sans-serif;background:var(--bg);color:var(--text)}
    .container{max-width:var(--max);margin:0 auto;padding:20px}
    .hero{background:linear-gradient(180deg,#fff,var(--soft));border-bottom:1px solid var(--border)}
    .hero .container{padding:48px 20px 28px;text-align:center}
    h1{margin:0 0 10px;font-size:clamp(28px,4.5vw,40px);line-height:1.1;color:#0f4fa8}
    .lead{margin:0 0 18px;color:#2d3a4d;font-size:clamp(16px,2.6vw,20px)}
    .cta{display:inline-flex;align-items:center;gap:10px;background:var(--brand);color:#fff;text-decoration:none;padding:12px 18px;border-radius:12px;font-weight:700}
    .cta:hover{filter:brightness(0.96)}
    .grid{display:grid;gap:16px}
    @media(min-width:760px){.grid.cols-2{grid-template-columns:1fr 1fr}}
    .card{border:1px solid var(--border);border-radius:var(--radius);background:#fff;overflow:hidden;box-shadow:var(--shadow)}
    .media{position:relative;background:#000}
    .media video{width:100%;height:auto;display:block;aspect-ratio:9/16}
    .cap{padding:12px 14px}
    .cap h3{margin:0 0 6px;font-size:16px;color:#0f4fa8}
    .cap p{margin:0;color:var(--muted);font-size:14px;line-height:1.45}
    .note{margin-top:18px;padding:12px 14px;border:1px solid var(--border);border-radius:12px;background:#f7faff;color:#334257;font-size:14px}
    .note ol{margin:8px 0 0 18px; padding-left:18px}
    footer{border-top:1px solid var(--border);color:#6c7890;text-align:center;padding:22px 0;margin-top:26px;font-size:13px}
    .back{position:fixed;top:14px;left:14px;display:inline-flex;align-items:center;gap:8px;padding:10px 12px;color:var(--brand);background:#fff;border:1px solid var(--border);border-radius:10px;text-decoration:none;box-shadow:0 4px 18px rgba(0,0,0,.05);z-index:10}
    .back:hover{filter:brightness(1.02)}
    .back:focus-visible{outline:none;box-shadow:0 0 0 3px #1976D233}
  </style>
</head>
<body>
  <a class="back" href="index.html" aria-label="Retour à l’accueil">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
      <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    Accueil
  </a>

  <header class="hero">
    <div class="container">
      <h1>Locofest — comment ça marche</h1>
      <p class="lead">1) Saisissez une ville. 2) Parcourez la liste d’événements. 3) Planifiez avec le calendrier (Jour/Semaine/Mois).</p>
      <a class="cta" href="https://apps.apple.com/fr/app/locofest/id6749483090?utm_source=collectivites&utm_medium=web&utm_campaign=explainer" target="_blank" rel="noopener">
        Installer Locofest
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M7 17L17 7M17 7H9M17 7v8" stroke="white" stroke-width="2" stroke-linecap="round"/></svg>
      </a>
    </div>
  </header>

  <main class="container">
    <section class="grid cols-2" aria-label="Démonstrations">
      <!-- 1) Recherche par ville -->
      <article class="card">
        <div class="media">
          <video class="demo" playsinline webkit-playsinline muted autoplay loop preload="metadata"
                 disablepictureinpicture disableremoteplayback controlslist="nodownload noplaybackrate nofullscreen">
            <source src="/recherche-ville.mp4?v=5" type="video/mp4" />
            Votre navigateur ne peut pas lire la vidéo.
          </video>
        </div>
        <div class="cap">
          <h3>Recherche par ville</h3>
          <p>Saisissez une ville pour afficher les événements disponibles. Ouvrez une fiche pour les détails, l’itinéraire, le partage ou l’ajout aux favoris.</p>
        </div>
      </article>

      <!-- 2) Calendrier -->
      <article class="card">
        <div class="media">
          <video class="demo" playsinline webkit-playsinline muted autoplay loop preload="metadata"
                 disablepictureinpicture disableremoteplayback controlslist="nodownload noplaybackrate nofullscreen">
            <source src="/calendrier-ville.mp4?v=5" type="video/mp4" />
          </video>
        </div>
        <div class="cap">
          <h3>Calendrier de la ville</h3>
          <p>Planifiez avec le calendrier : passez entre les vues Jour, Semaine et Mois puis faites défiler les dates.</p>
        </div>
      </article>
    </section>

    <section class="note" aria-label="Mode d’emploi">
      <strong>Mode d’emploi</strong>
      <ol>
        <li>Saisissez une ville pour filtrer les événements.</li>
        <li>Parcourez la liste et ouvrez une fiche (description, lieu, horaires, lien officiel).</li>
        <li>Ajoutez aux favoris ou partagez si besoin.</li>
        <li>Utilisez le calendrier et basculez entre Jour · Semaine · Mois.</li>
      </ol>
    </section>
  </main>

  <footer>
    © Locofest — Agenda, chat de ville et communautés locales.
  </footer>

  <script>
    // Autoplay fiable + fallback contrôles sur iOS
    document.querySelectorAll('video.demo').forEach(v=>{
      v.muted = true;
      v.setAttribute('muted','');
      v.setAttribute('playsinline','');
      v.setAttribute('webkit-playsinline','');

      const tryPlay = () => v.play().catch(()=>{ v.controls = true; });
      if (v.readyState >= 2) tryPlay();
      else v.addEventListener('canplay', tryPlay, {once:true});

      v.addEventListener('error', () => {
        console.warn('Erreur vidéo:', v.currentSrc || v.src, v.error);
        v.controls = true;
      }, {once:true});
    });
  </script>
</body>
</html>